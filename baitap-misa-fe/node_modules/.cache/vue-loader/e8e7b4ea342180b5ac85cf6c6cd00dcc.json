{"remainingRequest":"C:\\Users\\M'penGu\\Desktop\\BaiTap.MiSa.FE\\BaiTapFinal\\baitap-misa-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\M'penGu\\Desktop\\BaiTap.MiSa.FE\\BaiTapFinal\\baitap-misa-fe\\src\\views\\EmployeeDetail.vue?vue&type=style&index=0&id=16bb19d9&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\M'penGu\\Desktop\\BaiTap.MiSa.FE\\BaiTapFinal\\baitap-misa-fe\\src\\views\\EmployeeDetail.vue","mtime":1630660172140},{"path":"C:\\Users\\M'penGu\\Desktop\\BaiTap.MiSa.FE\\BaiTapFinal\\baitap-misa-fe\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\M'penGu\\Desktop\\BaiTap.MiSa.FE\\BaiTapFinal\\baitap-misa-fe\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\M'penGu\\Desktop\\BaiTap.MiSa.FE\\BaiTapFinal\\baitap-misa-fe\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\M'penGu\\Desktop\\BaiTap.MiSa.FE\\BaiTapFinal\\baitap-misa-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\M'penGu\\Desktop\\BaiTap.MiSa.FE\\BaiTapFinal\\baitap-misa-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouTUlTQUlucHV0Qm94IHsNCiAgLyogcG9zaXRpb246IHJlbGF0aXZlOyAqLw0KfQ0KDQouTUlTQUlucHV0Qm94IC5lcnJvciB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgdG9wOiAyNHB4Ow0KICBsZWZ0OiAyNHB4Ow0KICBiYWNrZ3JvdW5kOiAjMmMyYjMwOw0KICBjb2xvcjogI2ZmZjsNCiAgaGVpZ2h0OiAyNHB4Ow0KICBsaW5lLWhlaWdodDogMjRweDsNCiAgcGFkZGluZzogMCAxMnB4Ow0KICBkaXNwbGF5OiBub25lOw0KICBib3gtc2hhZG93OiAxcHggMXB4ICMwMDA7DQp9DQouTUlTQUlucHV0Qm94OmhvdmVyIC5lcnJvci5zaG93IHsNCiAgZGlzcGxheTogYmxvY2s7DQp9DQoubW9kYWwgew0KICBwb3NpdGlvbjogZml4ZWQ7DQogIHotaW5kZXg6IDU7DQogIGxlZnQ6IDA7DQogIHRvcDogMDsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMTAwJTsNCiAgb3ZlcmZsb3c6IGF1dG87DQogIC8qIGJhY2tncm91bmQtY29sb3I6IHJnYigwLCAwLCAwKTsgKi8NCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjQpOw0KfQ0KDQouTUlTQUVtcGxveWVlRGV0YWlsIHsNCiAgd2lkdGg6IDkwMHB4Ow0KICBoZWlnaHQ6IDYwMHB4Ow0KICBiYWNrZ3JvdW5kOiAjZmZmOw0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIHRvcDogNTAlOw0KICBsZWZ0OiA1MCU7DQogIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOw0KICBib3JkZXItcmFkaXVzOiA1cHg7DQogIC8qIHotaW5kZXg6IDM7ICovDQp9DQoNCi5ib3ggew0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KfQ0KDQoucXVlc3Rpb24taWNvbiB7DQogIGJhY2tncm91bmQ6IHVybCgiLi4vYXNzZXRzL2ltZy9TcHJpdGVzLjY0YWY4ZjYxLnN2ZyIpIG5vLXJlcGVhdCAtNzMxcHggLTMwcHg7DQogIHdpZHRoOiAyNHB4Ow0KICBoZWlnaHQ6IDI0cHg7DQogIG1hcmdpbi1yaWdodDogNnB4Ow0KICBjdXJzb3I6IHBvaW50ZXI7DQp9DQouY2xvc2UtaWNvbiB7DQogIC8qIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7ICovDQogIGhlaWdodDogMjRweDsNCiAgd2lkdGg6IDI0cHg7DQogIGJhY2tncm91bmQ6IHVybCgiLi4vYXNzZXRzL2ltZy9TcHJpdGVzLjY0YWY4ZjYxLnN2ZyIpIG5vLXJlcGVhdCAtMTQ0cHggLTE0NHB4Ow0KICAvKiB3aWR0aDogMThweDsNCgloZWlnaHQ6IDE4cHg7ICovDQogIGN1cnNvcjogcG9pbnRlcjsNCn0NCg0KLk1JU0FSb3cgew0KICBkaXNwbGF5OiBmbGV4Ow0KICB3aWR0aDogMTAwJTsNCn0NCg0KLk1JU0FJbnB1dCBsYWJlbCwNCi5NSVNBRGF0ZSBsYWJlbCwNCi5NSVNBUmFkaW8gbGFiZWwgew0KICBmb250LWZhbWlseTogQm9sZDsNCn0NCg0KLk1JU0FJbnB1dCBpbnB1dCB7DQogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogIGhlaWdodDogMzJweDsNCiAgYm9yZGVyOiAxcHggc29saWQgI2JhYmVjNTsNCiAgb3V0bGluZTogbm9uZTsNCiAgcGFkZGluZzogMCAxMHB4Ow0KICB3aWR0aDogMTAwJTsNCiAgY29sb3I6ICM1NTU7DQp9DQoNCi5NSVNBSW5wdXQgaW5wdXQuYm9yZGVyLXJlZCB7DQogIGJvcmRlcjogMXB4IHNvbGlkIHJlZDsNCn0NCg0KLk1JU0FJbnB1dCBpbnB1dDpmb2N1cyB7DQogIGJvcmRlcjogMXB4IHNvbGlkICMyNWE0MTU7DQp9DQouY29udGVudCB7DQogIGhlaWdodDogY2FsYyg2MDBweCAtIDcyLjhweCAtIDc2cHgpOw0KfQ0KLmZvb3RlciB7DQogIGhlaWdodDogNzZweDsNCiAgLyogYmFja2dyb3VuZDogcmVkOyAqLw0KICBtYXJnaW4tdG9wOiBhdXRvOw0KICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA1cHg7DQogIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA1cHg7DQogIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGZkZmRmOw0KICBtYXJnaW46IGF1dG8gMzJweDsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCn0NCg=="},{"version":3,"sources":["EmployeeDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+lBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EmployeeDetail.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"modal\">\r\n    <div class=\"MISAEmployeeDetail\">\r\n      <div class=\"box\">\r\n        <div class=\"header d-flex\">\r\n          <div class=\"d-flex\" style=\"padding: 20px 32px\">\r\n            <span style=\"font-size: 24px; font-family: Semibold\"\r\n              >Thông tin nhân viên</span\r\n            >\r\n            <div class=\"d-flex align-items-c px-20\">\r\n              <input type=\"checkbox\" name=\"object\" id=\"\" class=\"mr-10\" />\r\n              Là khách hàng\r\n            </div>\r\n            <div class=\"d-flex align-items-c\">\r\n              <input type=\"checkbox\" name=\"object\" id=\"\" class=\"mr-10\" />\r\n              Là nhà cung cấp\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex ml-auto p-12\">\r\n            <div class=\"question-icon\" title=\"Giúp\"></div>\r\n            <div\r\n              class=\"close-icon\"\r\n              title=\"Đóng\"\r\n              @click=\"closeForm('close')\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"content px-32\">\r\n          <div class=\"d-flex\">\r\n            <div class=\"w-50 pr-12\">\r\n              <div class=\"MISARow mb-12\">\r\n                <div class=\"MISAInput w-40 mr-6\">\r\n                  <label for=\"\">Mã <span class=\"b-red\">*</span></label>\r\n                  <div class=\"mt-4 MISAInputBox\">\r\n                    <input\r\n                      type=\"text\"\r\n                      v-model=\"employee.employeeCode\"\r\n                      @blur=\"checkEmpty('employeeCode')\"\r\n                      @focus=\"removeBorder('employeeCode')\"\r\n                      ref=\"employeeCode\"\r\n                      tabindex=\"1\"\r\n                      :title=\"\r\n                        flagCode ? 'Mã nhân viên không được để trống' : ''\r\n                      \"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"MISAInput w-60\">\r\n                  <label for=\"\">Tên <span class=\"b-red\">*</span></label>\r\n                  <div class=\"mt-4 MISAInputBox\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"w-100\"\r\n                      ref=\"fullName\"\r\n                      @blur=\"checkEmpty('fullName')\"\r\n                      v-model=\"employee.fullName\"\r\n                      @focus=\"removeBorder('fullName')\"\r\n                      tabindex=\"2\"\r\n                      :title=\"flagName ? 'Tên không được để trống' : ''\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"MISARow mb-12\">\r\n                <div class=\"MISAInput w-100\">\r\n                  <label for=\"\">Đơn vị <span class=\"b-red\">*</span></label>\r\n                  <div class=\"mt-4 MISAInputBox\">\r\n                    <Combobox\r\n                      v-if=\"true\"\r\n                      :required=\"true\"\r\n                      :value=\"employee.departmentId\"\r\n                      @selected=\"getDepartment\"\r\n                      :tabindex=\"'5'\"\r\n                      :refName=\"'departmentId'\"\r\n                      :class=\"\r\n                        flagDepartment\r\n                          ? 'MISACombobox border-red'\r\n                          : 'MISACombobox'\r\n                      \"\r\n                    ></Combobox>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"MISARow\">\r\n                <div class=\"MISAInput w-100\">\r\n                  <label for=\"\">Chức danh</label>\r\n                  <div class=\"mt-4\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"w-100\"\r\n                      tabindex=\"8\"\r\n                      v-model=\"employee.positionName\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"w-50 pl-12\">\r\n              <div class=\"MISARow mb-12\">\r\n                <div class=\"MISADate\">\r\n                  <label for=\"\">Ngày sinh</label>\r\n                  <div class=\"mt-4\">\r\n                    <date-picker\r\n                      ref=\"dateOfBirth\"\r\n                      :disabled-date=\"(date) => date >= new Date()\"\r\n                      v-model=\"employee.dateOfBirth\"\r\n                      type=\"date\"\r\n                      placeholder=\"DD/MM/YYYY\"\r\n                      :format=\"'DD/MM/YYYY'\"\r\n                      :value-type=\"'YYYY-MM-DD'\"\r\n                    ></date-picker>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"MISARadio ml-10\">\r\n                  <label for=\"\">Giới tính</label>\r\n                  <div class=\"mt-4 h-32 d-flex\">\r\n                    <span class=\"mr-10 d-flex align-items-c\"\r\n                      ><input\r\n                        type=\"radio\"\r\n                        name=\"Gender\"\r\n                        class=\"align-self-c mr-8\"\r\n                        tabindex=\"4\"\r\n                        v-model=\"employee.gender\"\r\n                        value=\"0\"\r\n                      />\r\n                      Nam\r\n                    </span>\r\n                    <span class=\"mr-10 d-flex align-items-c\"\r\n                      ><input\r\n                        type=\"radio\"\r\n                        name=\"Gender\"\r\n                        class=\"align-self-c mr-8\"\r\n                        value=\"1\"\r\n                        v-model=\"employee.gender\"\r\n                      />\r\n                      Nữ</span\r\n                    >\r\n                    <span class=\"d-flex align-items-c\"\r\n                      ><input\r\n                        type=\"radio\"\r\n                        name=\"Gender\"\r\n                        class=\"align-self-c mr-8\"\r\n                        value=\"2\"\r\n                        v-model=\"employee.gender\"\r\n                      />\r\n                      Khác</span\r\n                    >\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"MISARow mb-12\">\r\n                <div class=\"MISAInput mr-6 w-100\">\r\n                  <label for=\"\">Số CMND</label>\r\n                  <div class=\"mt-4 MISAInputBox\">\r\n                    <input\r\n                      type=\"text\"\r\n                      tabindex=\"6\"\r\n                      v-model=\"employee.identityNumber\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"MISADate\">\r\n                  <label for=\"\">Ngày cấp</label>\r\n                  <div class=\"mt-4\">\r\n                    <date-picker\r\n                      ref=\"identityDate\"\r\n                      :disabled-date=\"(date) => date >= new Date()\"\r\n                      v-model=\"employee.identityDate\"\r\n                      type=\"date\"\r\n                      placeholder=\"DD/MM/YYYY\"\r\n                      :format=\"'DD/MM/YYYY'\"\r\n                      :value-type=\"'YYYY-MM-DD'\"\r\n                    ></date-picker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"MISARow\">\r\n                <div class=\"MISAInput w-100\">\r\n                  <label for=\"\">Nơi cấp</label>\r\n                  <div class=\"mt-4\">\r\n                    <input\r\n                      type=\"text\"\r\n                      tabindex=\"9\"\r\n                      v-model=\"employee.identityPlace\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"MISARow mb-12\" style=\"margin-top: 34px\">\r\n            <div class=\"MISAInput w-100\">\r\n              <label for=\"\">Địa chỉ</label>\r\n              <div class=\"mt-4\">\r\n                <input type=\"text\" tabindex=\"10\" v-model=\"employee.address\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"MISARow mb-12\">\r\n            <div class=\"MISAInput mr-6\">\r\n              <label for=\"\">ĐT di động</label>\r\n              <div class=\"mt-4\">\r\n                <input\r\n                  type=\"text\"\r\n                  tabindex=\"11\"\r\n                  v-model=\"employee.phoneNumber\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"MISAInput mr-6\">\r\n              <label for=\"\">ĐT cố định</label>\r\n              <div class=\"mt-4\">\r\n                <input type=\"text\" tabindex=\"12\" v-model=\"employee.hotline\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"MISAInput\">\r\n              <label for=\"\">Email</label>\r\n              <div class=\"mt-4 MISAInputBox\">\r\n                <input\r\n                  type=\"text\"\r\n                  tabindex=\"13\"\r\n                  v-model=\"employee.email\"\r\n                  @blur=\"checkFormat('email')\"\r\n                  ref=\"email\"\r\n                  @focus=\"removeBorder('email')\"\r\n                  :title=\"flagEmail ? 'Email không đúng định dạng' : ''\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"MISARow mb-12\">\r\n            <div class=\"MISAInput mr-6\">\r\n              <label for=\"\">Tài khoản ngân hàng</label>\r\n              <div class=\"mt-4\">\r\n                <input\r\n                  type=\"text\"\r\n                  tabindex=\"14\"\r\n                  v-model=\"employee.accountNumber\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"MISAInput mr-6\">\r\n              <label for=\"\">Tên ngân hàng</label>\r\n              <div class=\"mt-4\">\r\n                <input type=\"text\" tabindex=\"15\" v-model=\"employee.bankName\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"MISAInput\">\r\n              <label for=\"\">Chi nhánh</label>\r\n              <div class=\"mt-4\">\r\n                <input\r\n                  type=\"text\"\r\n                  tabindex=\"16\"\r\n                  v-model=\"employee.branchName\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"footer\">\r\n          <button\r\n            class=\"MISABtn MISADefault\"\r\n            tabindex=\"17\"\r\n            @click=\"closeForm('cancle')\"\r\n          >\r\n            Hủy\r\n          </button>\r\n          <div class=\"ml-auto\"></div>\r\n          <button\r\n            class=\"MISABtn MISADefault mr-10\"\r\n            title=\"Cất\"\r\n            tabindex=\"18\"\r\n            @click=\"saveForm(1)\"\r\n          >\r\n            Cất\r\n          </button>\r\n          <button\r\n            class=\"MISABtn MISASucess\"\r\n            @click=\"saveForm(2)\"\r\n            title=\"Cất và thêm\"\r\n            tabindex=\"19\"\r\n          >\r\n            Cất và Thêm\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Dialog\r\n      v-if=\"showDialog\"\r\n      :type=\"typeDialog\"\r\n      :content=\"contentDialog\"\r\n      @close=\"showDialog = false\"\r\n      @do=\"saveForm(1)\"\r\n      @exit=\"closeForm('cancle')\"\r\n    ></Dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Dialog from \"../components/base/BaseDialog.vue\";\r\nimport DatePicker from \"vue2-datepicker\";\r\nimport Combobox from \"./items/DepartmentCombobox.vue\";\r\nimport { mapGetters } from \"vuex\";\r\nimport { mapMutations } from \"vuex\";\r\nimport { mapActions } from \"vuex\";\r\nimport axios from \"axios\";\r\nimport Common from \"../Common\";\r\nexport default {\r\n  components: {\r\n    DatePicker,\r\n    Combobox,\r\n    Dialog,\r\n  },\r\n  created() {},\r\n  computed: {\r\n    ...mapGetters([\r\n      \"getEmployee\",\r\n      \"getMode\",\r\n      \"getNewCode\",\r\n      \"getAPI\",\r\n      \"getEmployeeId\",\r\n    ]),\r\n  },\r\n  mounted() {\r\n    this.employee = this.getEmployee;\r\n    // mở form\r\n    // gán dữ liệu cho employee(tất cả dữ liệu từ đối tượng nhân bản trừ mã nhân viên)\r\n    // gán mã mới cho employee\r\n    if (this.getMode == 2) {\r\n      this.employee[\"employeeCode\"] = this.getNewCode;\r\n    }\r\n    // giá trị so sánh\r\n    this.clone = JSON.stringify(this.employee);\r\n    // focus employee code\r\n    this.focusEmployeeCode();\r\n    // set tabindex datepicker\r\n    this.setTabindexDatePicker(\"dateOfBirth\", 3);\r\n    this.setTabindexDatePicker(\"identityDate\", 7);\r\n  },\r\n  data() {\r\n    return {\r\n      employee: {},\r\n      showDialog: false,\r\n      contentDialog: \"\",\r\n      typeDialog: \"\",\r\n      type: 1,\r\n      clone: null,\r\n\r\n      flagCode: false,\r\n      flagName: false,\r\n      flagEmail: false,\r\n      flagDepartment: false,\r\n    };\r\n  },\r\n  watch: {\r\n    getEmployee() {\r\n      // nếu chọn cất và thêm \r\n      // reset form\r\n      if (this.type == 2) {\r\n        this.employee = this.getEmployee;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"SET_IS_OPEN\", \"SET_MODE\", \"SET_NULL_EMPLOYEE\"]),\r\n    ...mapActions([\"setNewCode\"]),\r\n\r\n    /**\r\n     * Remove border red\r\n     * Author : LP(29/8)\r\n     */\r\n    removeBorder(refName) {\r\n      this.$refs[refName].classList = \"\";\r\n      switch (refName) {\r\n        case \"fullName\":\r\n          this.flagName = false;\r\n          break;\r\n        case \"employeeCode\":\r\n          this.flagCode = false;\r\n          break;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Check empty input required\r\n     * Author : LP(29/8)\r\n     */\r\n    checkEmpty(refName) {\r\n      if (Common.isNullOrUndifined(this.employee[refName])) {\r\n        this.$refs[refName].classList = \"border-red\";\r\n        switch (refName) {\r\n          case \"fullName\":\r\n            this.flagName = true;\r\n            this.contentDialog = \"Tên nhân viên không được để trống\";\r\n            break;\r\n          case \"employeeCode\":\r\n            this.flagCode = true;\r\n            this.contentDialog = \"Mã nhân viên không được để trống\";\r\n            break;\r\n        }\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    /**\r\n     * Check format input\r\n     * Author : LP(29/8)\r\n     */\r\n    checkFormat(refName) {\r\n      if (!Common.isNullOrUndifined(this.employee[refName])) {\r\n        if (!Common.validateEmail(this.employee[refName])) {\r\n          this.$refs[refName].classList = \"border-red\";\r\n          this.contentDialog = \"Email không đúng định dạng\";\r\n          this.flagEmail = true;\r\n          return false;\r\n        }\r\n      }\r\n      this.flagEmail = false;\r\n      return true;\r\n    },\r\n    /**\r\n     * save form\r\n     * Author : LP(29/8)\r\n     */\r\n    saveForm(type) {\r\n      this.type = type;\r\n\r\n      let isValidEmail = this.checkFormat(\"email\");\r\n      let isValidDepartment = Common.isNullOrUndifined(\r\n        this.employee.departmentId\r\n      )\r\n        ? false\r\n        : true;\r\n      if (!isValidDepartment) {\r\n        this.contentDialog = \"Phòng ban không được để trống\";\r\n        this.flagDepartment = true;\r\n      }\r\n      let isValidName = this.checkEmpty(\"fullName\");\r\n      let isValidCode = this.checkEmpty(\"employeeCode\");\r\n\r\n      if (isValidCode && isValidName && isValidEmail && isValidDepartment) {\r\n        // kích hoạt check trùng mã nhân viên\r\n        try {\r\n          let self = this;\r\n          axios\r\n            .get(\r\n              this.getAPI +\r\n                `Employees/Duplicate?name=employeeCode&value=${\r\n                  this.employee.employeeCode\r\n                }&id=${\r\n                  this.employee.employeeId == null\r\n                    ? \"\"\r\n                    : this.employee.employeeId\r\n                }`\r\n            )\r\n            .then(function (response) {\r\n              // nếu trả về trùng == true\r\n              // input cảnh báo đỏ + hover thông báo\r\n              // mở dialog cảnh báo\r\n\r\n              // nếu trả về == false\r\n              // thực hiện lưu dữ liệu\r\n              if (response.data.data) {\r\n                self.$refs.employeeCode.classList = \"border-red\";\r\n                // self.$refs[\"employeeCode-error\"].classList = \"error show\";\r\n                // nội dung thông báo\r\n                self.contentDialog =\r\n                  `Mã nhân viên <${self.employee.employeeCode}> ` +\r\n                  \"đã tồn tại trong hệ thống, vui lòng kiểm tra lại\";\r\n                // hiển thị thông báo\r\n                self.showDialog = true;\r\n                self.typeDialog = \"warning\";\r\n                self.flagCode = true;\r\n              } else {\r\n                self.flagCode = false;\r\n                if (self.getMode == 0 || self.getMode == 2) {\r\n                  self.addEmployee();\r\n                } else {\r\n                  self.editEmployee();\r\n                }\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              console.log(\"get duplicate \" + error);\r\n            });\r\n        } catch (error) {\r\n          console.log(\"get duplicate \" + error);\r\n        }\r\n      } else {\r\n        this.typeDialog = \"error\";\r\n        this.showDialog = true;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Add employee\r\n     * Author : LP(29/8)\r\n     */\r\n    addEmployee() {\r\n      try {\r\n        let self = this;\r\n        axios\r\n          .post(this.getAPI + `Employees`, this.employee)\r\n          .then(async function (response) {\r\n            // tái tạo lại employee\r\n            self.SET_NULL_EMPLOYEE();\r\n            if (self.type == 2) {\r\n              // nếu chọn cất và thêm\r\n              // thực hiện lấy mã mới cho nhân viên\r\n              // gửi mode = 0 => thêm mới nhân viên\r\n              await self.$store.dispatch(\"setNewCode\");\r\n              self.SET_MODE(0);\r\n            }\r\n            // gửi phản hồi sau khi thêm mới nhân viên\r\n            await self.$emit(\"resultForm\", response, self.type);\r\n          });\r\n      } catch (error) {\r\n        console.log(\"add employee error \" + error);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Edit employee\r\n     * Author : LP(29/8)\r\n     */\r\n    editEmployee() {\r\n      try {\r\n        let self = this;\r\n        axios\r\n          .put(this.getAPI + `Employees/${this.getEmployeeId}`, this.employee)\r\n          .then(async function (response) {\r\n            // tái tạo lại dữ liệu cho employee\r\n            self.SET_NULL_EMPLOYEE();\r\n            if (self.type == 2) {\r\n              // chọn cất và thêm\r\n              // => sinh mã mới\r\n              // => gán mode = 0 => thêm mới nhân viên\r\n              await self.$store.dispatch(\"setNewCode\");\r\n              self.SET_MODE(0);\r\n            }\r\n            // gửi dữ liệu sau khi cập nhật cho bảng hiển thị\r\n            self.$emit(\"resultForm\", response, self.type);\r\n          });\r\n      } catch (error) {\r\n        console.log(\"edit employee error \" + error);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get department id on combobox\r\n     * Author : LP(28/8)\r\n     */\r\n    getDepartment(value) {\r\n      this.employee.departmentId = value;\r\n    },\r\n\r\n    /**\r\n     * Focus employee code\r\n     * LP(28/8)\r\n     */\r\n    focusEmployeeCode() {\r\n      this.$refs.employeeCode.focus();\r\n    },\r\n\r\n    /**\r\n     * Focus date picker\r\n     * Author : LP(1/9)\r\n     */\r\n    setTabindexDatePicker(refName, tab) {\r\n      this.$refs[refName].$refs.input.setAttribute(\"tabindex\", tab);\r\n    },\r\n\r\n    /**\r\n     * Close form\r\n     * Author : LP(28/8)\r\n     */\r\n    closeForm(type) {\r\n      switch (type) {\r\n        case \"cancle\":\r\n          this.SET_IS_OPEN(false);\r\n          this.employee = {};\r\n          this.SET_NULL_EMPLOYEE();\r\n          break;\r\n        case \"close\":\r\n          if (this.clone != JSON.stringify(this.employee)) {\r\n            this.showDialog = true;\r\n            this.contentDialog =\r\n              \"Dữ liệu đã bị thay đổi. Bạn có muốn cất không?\";\r\n            this.typeDialog = \"info\";\r\n          } else {\r\n            this.SET_IS_OPEN(false);\r\n            this.employee = {};\r\n            this.SET_NULL_EMPLOYEE();\r\n          }\r\n          break;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.MISAInputBox {\r\n  /* position: relative; */\r\n}\r\n\r\n.MISAInputBox .error {\r\n  position: absolute;\r\n  top: 24px;\r\n  left: 24px;\r\n  background: #2c2b30;\r\n  color: #fff;\r\n  height: 24px;\r\n  line-height: 24px;\r\n  padding: 0 12px;\r\n  display: none;\r\n  box-shadow: 1px 1px #000;\r\n}\r\n.MISAInputBox:hover .error.show {\r\n  display: block;\r\n}\r\n.modal {\r\n  position: fixed;\r\n  z-index: 5;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n  /* background-color: rgb(0, 0, 0); */\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n.MISAEmployeeDetail {\r\n  width: 900px;\r\n  height: 600px;\r\n  background: #fff;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  border-radius: 5px;\r\n  /* z-index: 3; */\r\n}\r\n\r\n.box {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.question-icon {\r\n  background: url(\"../assets/img/Sprites.64af8f61.svg\") no-repeat -731px -30px;\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 6px;\r\n  cursor: pointer;\r\n}\r\n.close-icon {\r\n  /* border: 1px solid #000; */\r\n  height: 24px;\r\n  width: 24px;\r\n  background: url(\"../assets/img/Sprites.64af8f61.svg\") no-repeat -144px -144px;\r\n  /* width: 18px;\r\n\theight: 18px; */\r\n  cursor: pointer;\r\n}\r\n\r\n.MISARow {\r\n  display: flex;\r\n  width: 100%;\r\n}\r\n\r\n.MISAInput label,\r\n.MISADate label,\r\n.MISARadio label {\r\n  font-family: Bold;\r\n}\r\n\r\n.MISAInput input {\r\n  box-sizing: border-box;\r\n  height: 32px;\r\n  border: 1px solid #babec5;\r\n  outline: none;\r\n  padding: 0 10px;\r\n  width: 100%;\r\n  color: #555;\r\n}\r\n\r\n.MISAInput input.border-red {\r\n  border: 1px solid red;\r\n}\r\n\r\n.MISAInput input:focus {\r\n  border: 1px solid #25a415;\r\n}\r\n.content {\r\n  height: calc(600px - 72.8px - 76px);\r\n}\r\n.footer {\r\n  height: 76px;\r\n  /* background: red; */\r\n  margin-top: auto;\r\n  border-bottom-left-radius: 5px;\r\n  border-bottom-right-radius: 5px;\r\n  border-top: 1px solid #dfdfdf;\r\n  margin: auto 32px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n</style>"]}]}